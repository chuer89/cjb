(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"1bbY":function(e,t,a){"use strict";var l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var n=l(a("kLXV"));a("7Kak");var i=l(a("9yH6")),u=l(a("pVnL")),d=l(a("lwsE")),r=l(a("W8MJ")),o=l(a("a1gu")),f=l(a("Nsbk")),c=l(a("7W2i"));a("y8nQ");var s=l(a("Vl3Y"));a("5NDa");var v=l(a("5rEg")),m=l(a("q1tI")),h=v.default.TextArea,p=s.default.Item,y=function(e){function t(){var e,a;(0,d.default)(this,t);for(var l=arguments.length,n=new Array(l),i=0;i<l;i++)n[i]=arguments[i];return a=(0,o.default)(this,(e=(0,f.default)(t)).call.apply(e,[this].concat(n))),a.state={},a}return(0,c.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,l=e.callBack,d=e.title,r=e.data,o=r.name,f=r.description,c=r.admin,s=e.form,y=s.getFieldDecorator,k=s.validateFields,E={labelCol:{sm:{span:6}},wrapperCol:{sm:{span:15}}},b=function(e){e.preventDefault(),k(function(e,t){e||l(t)})};return m.default.createElement(n.default,{title:d,width:600,destroyOnClose:!0,visible:t,centered:!0,onOk:b,onCancel:a},m.default.createElement("div",null,m.default.createElement("form",null,m.default.createElement(p,(0,u.default)({},E,{label:"\u5c97\u4f4d\u540d\u79f0"}),y("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5c97\u4f4d\u540d\u79f0"}],initialValue:o})(m.default.createElement(v.default,{placeholder:"\u8bf7\u8f93\u5165\u5c97\u4f4d\u540d\u79f0",autoComplete:"off",maxLength:"32"}))),m.default.createElement(p,(0,u.default)({},E,{label:"\u95e8\u5e97\u7ba1\u7406\u6743\u9650"}),y("admin",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u662f\u5426\u62e5\u6709\u95e8\u5e97\u7ba1\u7406\u6743\u9650"}],initialValue:c?"1":"0"})(m.default.createElement(i.default.Group,null,m.default.createElement(i.default,{value:"1"},"\u662f"),m.default.createElement(i.default,{value:"0"},"\u5426")))),m.default.createElement(p,(0,u.default)({},E,{label:"\u5c97\u4f4d\u63cf\u8ff0"}),y("description",{initialValue:f})(m.default.createElement(h,{rows:3,placeholder:"\u8bf7\u8f93\u5165\u5c97\u4f4d\u63cf\u8ff0",maxLength:"300"}))))))}}]),t}(m.default.Component),k=s.default.create()(y);t.default=k},N1bO:function(e,t,a){"use strict";var l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("lwsE")),i=l(a("W8MJ")),u=l(a("a1gu")),d=l(a("Nsbk")),r=l(a("7W2i")),o=l(a("q1tI")),f=l(a("PHqX")),c=function(e){function t(){return(0,n.default)(this,t),(0,u.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,r.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e={background:"white",padding:"24px"};return o.default.createElement("div",null,o.default.createElement("div",{style:e},o.default.createElement(f.default,null)))}}]),t}(o.default.Component),s=c;t.default=s},PHqX:function(e,t,a){"use strict";var l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var n=l(a("2/Rp"));a("miYZ");var i=l(a("tsqr")),u=l(a("lwsE")),d=l(a("W8MJ")),r=l(a("a1gu")),o=l(a("Nsbk")),f=l(a("7W2i"));a("2qtc");var c=l(a("kLXV")),s=l(a("q1tI")),v=a("MuoO"),m=l(a("CgQ8")),h=l(a("LvDl")),p=l(a("3eXy")),y=l(a("1bbY")),k=c.default.confirm,E=function(e){function t(){var e,a;(0,u.default)(this,t);for(var l=arguments.length,n=new Array(l),i=0;i<l;i++)n[i]=arguments[i];return a=(0,r.default)(this,(e=(0,o.default)(t)).call.apply(e,[this].concat(n))),a.state={visibleModify:!1,modifyTitle:"",callBack:function(){},initialValue:"",data:{}},a}return(0,f.default)(t,e),(0,d.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"save",value:function(e){this._isMounted&&this.setState(e)}},{key:"handerOpenModify",value:function(e){h.default.extend(e,{visibleModify:!0}),this.save(e)}},{key:"handerCloseModify",value:function(){this.save({visibleModify:!1})}},{key:"handerAjaxBack",value:function(e){var t=this.props.dispatch,a=this;"success"===e.msg?(a.handerCloseModify(),i.default.success("\u64cd\u4f5c\u6210\u529f"),t({type:"structure/getPosition"})):i.default.error(e.msg)}},{key:"handerShowDel",value:function(e){k({title:"\u786e\u5b9a\u5220\u9664\u5417\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){e()},onCancel:function(){}})}},{key:"handerModifySection",value:function(e){var t=this,a=e.id;this.handerOpenModify({modifyTitle:"\u4fee\u6539\u5c97\u4f4d",data:e,callBack:function(e){var l={};h.default.extend(l,e,{id:a}),p.default.updatePositionById(l).then(function(e){var a=e.data;t.handerAjaxBack(a)})}})}},{key:"handerAdd",value:function(){var e=this;this.handerOpenModify({modifyTitle:"\u6dfb\u52a0\u5c97\u4f4d",data:{},callBack:function(t){p.default.addPosition(t).then(function(t){var a=t.data;e.handerAjaxBack(a)})}})}},{key:"deletePositionById",value:function(e){var t=this;this.handerShowDel(function(){p.default.deletePositionById({id:e}).then(function(e){var a=e.data;t.handerAjaxBack(a)})})}},{key:"render",value:function(){var e=this,t=this.props.structure.positionStructure,a=this.state,l=a.visibleModify,i=a.modifyTitle,u=a.data,d=a.callBack,r=a.initialValue,o="\u6682\u65e0\u6570\u636e";h.default.isEmpty(t)||(o=t.map(function(t,a){return s.default.createElement("div",{key:a,className:m.default.areaBox},s.default.createElement("div",{className:m.default.titleBox},s.default.createElement("div",{className:m.default.title},s.default.createElement("i",{className:"iconfont"},"\ue601"),t.name),s.default.createElement("div",{className:m.default.operateBox},s.default.createElement("span",{onClick:function(a){e.handerModifySection(t)}},"\u7f16\u8f91"),s.default.createElement("span",{onClick:function(a){e.deletePositionById(t.id)}},"\u5220\u9664"))))}));var f={visible:l,title:i,initialValue:r,onCancel:function(){e.save({visibleModify:!1})},callBack:d,data:u};return s.default.createElement("div",null,s.default.createElement("div",null,s.default.createElement(y.default,f)),s.default.createElement("div",{className:m.default.addBtnBox,style:{textAlign:"right"}},s.default.createElement(n.default,{type:"primary",size:"large",onClick:function(){e.handerAdd()},style:{width:"140px"}},"\u6dfb\u52a0")),s.default.createElement("div",null,o))}}]),t}(s.default.Component),b=(0,v.connect)(function(e){var t=e.structure;return{structure:t}})(E);t.default=b}}]);