(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[20],{aLle:function(e,a,t){"use strict";var d=t("TqRt");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("sPJy");var n=d(t("bE4q"));t("miYZ");var l=d(t("tsqr")),s=d(t("lwsE")),u=d(t("W8MJ")),r=d(t("a1gu")),i=d(t("Nsbk")),o=d(t("7W2i"));t("Znn+");var f=d(t("ZTPi")),c=d(t("q1tI")),p=t("MuoO"),m=t("7DNP"),y=d(t("LvDl")),v=d(t("3eXy")),b=d(t("usdK")),h=d(t("w1JU")),E=d(t("wCiI")),U=d(t("FPa0")),D=d(t("uSOS")),g=d(t("eu3l")),k=f.default.TabPane,x=function(e){function a(e){var t;return(0,s.default)(this,a),t=(0,r.default)(this,(0,i.default)(a).call(this,e)),t.state={uid:""},t}return(0,o.default)(a,e),(0,u.default)(a,[{key:"UNSAFE_componentWillMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"save",value:function(e){this._isMounted&&this.setState(e)}},{key:"render",value:function(){var e=this,a=this.state.uid,t=this.props,d=t.addUser,s=t.dispatch,u=t.app,r=t.user,i=u.defaultImg,o=r.userInfo.token,p=d.personalDisabled,x=d.basicDisabled,T=d.experienceDisabled,w=d.departmentType,P=d.positionData,N=d.twoDepartmentData,I=d.portrayalDisabled,K=d.activeTabsKey,M=d.addUserParam,J=function(e){s({type:"addUser/save",payload:{activeTabsKey:e}})},S={departmentType:w,handerChange:function(e){s({type:"addUser/save",payload:{departmentType:e}})},handerNext:function(e){var a=e.storeId;y.default.extend(M,e),s({type:"addUser/save",payload:{personalDisabled:!1,activeTabsKey:"1",addUserParam:M}}),"1"===w&&a&&(s({type:"addUser/getPosition"}),s({type:"addUser/getTwoDepartmentBySid",payload:{sid:a}}))}},_={handerNext:function(e){y.default.extend(M,e),s({type:"addUser/save",payload:{activeTabsKey:"2",basicDisabled:!1,addUserParam:M}})}},W={positionData:P,twoDepartmentData:N,handerNext:function(a){y.default.extend(M,a,{contractDate:""}),v.default.addUser(M).then(function(a){var t=a.data;"success"===t.msg?(e.save({uid:t.data.id}),s({type:"addUser/save",payload:{experienceDisabled:!1,activeTabsKey:"3"}})):l.default.error(t.msg)})}},q={handerNext:function(e){y.default.forEach(e,function(e){e.uid=a}),v.default.addUserWork({jsondata:JSON.stringify(e)}).then(function(e){var a=e.data;"success"===a.msg?s({type:"addUser/save",payload:{portrayalDisabled:!1,activeTabsKey:"4"}}):l.default.error(a.msg)})}},C={action:v.default.addImg+"?token="+o,defaultImg:i,handerNext:function(e){y.default.extend(e,{uid:a}),v.default.addUserPortrayal(e).then(function(e){var a=e.data;"success"===a.msg?(l.default.success("\u5458\u5de5\u6dfb\u52a0\u6210\u529f"),b.default.push({pathname:"/personnel/record"})):l.default.error(a.msg)})}};return c.default.createElement("div",null,c.default.createElement("div",{style:{paddingBottom:"12px"}},c.default.createElement(n.default,null,c.default.createElement(n.default.Item,null,c.default.createElement(m.Link,{to:"/personnel/record"},"\u5458\u5de5\u6863\u6848")),c.default.createElement(n.default.Item,null,"\u6dfb\u52a0\u7528\u6237"))),c.default.createElement("div",{className:"contentBox"},c.default.createElement(f.default,{activeKey:K,tabPosition:"left",onChange:J},c.default.createElement(k,{tab:"\u5f52\u5c5e\u90e8\u95e8",key:"0"},c.default.createElement(h.default,S)),c.default.createElement(k,{tab:"\u4e2a\u4eba\u4fe1\u606f",key:"1",disabled:p},c.default.createElement(E.default,_)),c.default.createElement(k,{tab:"\u57fa\u672c\u4fe1\u606f",disabled:x,key:"2"},c.default.createElement(U.default,W)),c.default.createElement(k,{tab:"\u5de5\u4f5c\u7ecf\u5386",disabled:T,key:"3"},c.default.createElement(D.default,q)),c.default.createElement(k,{tab:"\u5458\u5de5\u753b\u50cf",disabled:I,key:"4"},c.default.createElement(g.default,C)))))}}]),a}(c.default.Component),T=(0,p.connect)(function(e){var a=e.addUser,t=e.app,d=e.user;return{addUser:a,app:t,user:d}})(x);a.default=T}}]);