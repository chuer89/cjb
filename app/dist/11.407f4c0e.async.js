(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"17gZ":function(e,t,a){e.exports={"text-overflow":"text-overflow___22nSL",clearfix:"clearfix___1yLZs",fl:"fl___341UI",fr:"fr___34Mg6",contentBox:"contentBox___1k774",menusBox:"menusBox___Cz1Tj",itemMenus:"itemMenus___1j-0A"}},"3gL6":function(e,t,a){e.exports={"text-overflow":"text-overflow___1bjED",clearfix:"clearfix___1jSOW",fl:"fl___27UBk",fr:"fr___16ihH",content:"content___6QaF4"}},J0fQ:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var r=n(a("kLXV"));a("sRBo");var l=n(a("kaz8"));a("miYZ");var d=n(a("tsqr"));a("Znn+");var s=n(a("ZTPi")),i=n(a("q1tI")),u=n(a("17gZ")),o=n(a("LvDl")),f=n(a("3eXy")),c=s.default.TabPane;class v extends i.default.Component{constructor(e){super(e),this.state={}}UNSAFE_componentWillMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}save(e){this._isMounted&&this.setState(e)}handerAdd(e){var t=this.props.handerAdd;f.default.addEnterpriseOrgMenu(e).then(e=>{var a=e.data;"success"===a.msg?t(a.data):d.default.error(a.msg)})}handerDel(e){f.default.deleteEnterpriseOrgMenuById(e).then(e=>{var t=e.data;"success"===t.msg||d.default.error(t.msg)})}render(){var e=this.props,t=e.user,a=e.visible,n=e.onCancel,d=e.orgIndex,f=e.enteryConfigMenus,v=t.menus,m=this,p="",h="",_="";return o.default.isEmpty(v)||(_=""+v[0].id,h=v.map(e=>{var t="";return o.default.isEmpty(e.tree)||(t=e.tree.map(e=>{var t=e.id,a=e.index,n=f[t]||{},r=!!n.id,s=e=>{var r=e.target.checked;r?m.handerAdd({mid:t,orgIndex:d,mindex:a}):m.handerDel({id:n.id})};return i.default.createElement("div",{key:e.id,className:u.default.itemMenus},i.default.createElement(l.default,{defaultChecked:r,onChange:s},e.name))})),i.default.createElement(c,{tab:e.name,key:e.id},i.default.createElement("div",{className:u.default.menusBox,style:{overflow:"hidden"}},t))}),p=i.default.createElement(s.default,{defaultActiveKey:_},h)),i.default.createElement(r.default,{title:"\u5458\u5de5\u83dc\u5355\u6743\u9650\u914d\u7f6e",width:600,destroyOnClose:!0,visible:a,footer:null,onCancel:n},i.default.createElement("div",{className:u.default.contentBox},p))}}var m=v;t.default=m},kXTr:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("miYZ");var r=n(a("tsqr")),l=n(a("q1tI")),d=a("MuoO"),s=n(a("3gL6")),i=n(a("u5SJ")),u=n(a("3eXy")),o=n(a("J0fQ"));class f extends l.default.Component{constructor(){super(...arguments),this.state={visibleConfigMenus:!1,orgIndex:"",enteryConfigMenus:[]}}UNSAFE_componentWillMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}save(e){this._isMounted&&this.setState(e)}render(){var e=this.props.user,t=this.state,a=t.visibleConfigMenus,n=t.orgIndex,d=t.enteryConfigMenus,f=this,c=e=>{u.default.getEnterpriseOrgMenuByOrgId({orgIndex:e}).then(t=>{var a=t.data;if("success"===a.msg){var n={},l=a.data;_.forEach(l,e=>{n[e.mid]=e}),f.save({visibleConfigMenus:!0,orgIndex:e,enteryConfigMenus:n})}else r.default.error(a.msg)})},v={user:e,visible:a,orgIndex:n,enteryConfigMenus:d,handerAdd(e){d[e.mid]=e,f.save({enteryConfigMenus:d})},onCancel(){f.save({visibleConfigMenus:!1})}};return l.default.createElement("div",null,l.default.createElement("div",{className:s.default.content},l.default.createElement(i.default,{openConfigMenus:c})),l.default.createElement("div",null,l.default.createElement(o.default,v)))}}var c=(0,d.connect)(e=>{var t=e.structure,a=e.user;return{structure:t,user:a}})(f);t.default=c},u5SJ:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var r=n(a("BMrR"));a("+L6B");var l=n(a("2/Rp"));a("jCWc");var d=n(a("kPKH"));a("5NDa");var s=n(a("5rEg"));a("miYZ");var i=n(a("tsqr"));a("2qtc");var u=n(a("kLXV")),o=n(a("q1tI")),f=a("MuoO"),c=n(a("CgQ8")),v=n(a("LvDl")),m=n(a("3eXy")),p=n(a("z4VA")),h=u.default.confirm;class _ extends o.default.Component{constructor(){super(...arguments),this.state={valueInput:"",visibleModify:!1,modifyTitle:"",modifyLabel:"",callBack:()=>{},initialValue:""}}UNSAFE_componentWillMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}save(e){this._isMounted&&this.setState(e)}handerOpenModify(e){v.default.extend(e,{visibleModify:!0}),this.save(e)}handerCloseModify(){this.save({visibleModify:!1})}handerAjaxBack(e){var t=this.props.dispatch,a=this;"success"===e.msg?(a.handerCloseModify(),i.default.success("\u64cd\u4f5c\u6210\u529f"),t({type:"structure/getUserOrganizations"})):i.default.error(e.msg)}handerShowDel(e){h({title:"\u786e\u5b9a\u5220\u9664\u5417\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk(){e()},onCancel(){}})}handerModifySection(e,t){var a=this;this.handerOpenModify({modifyTitle:"\u4fee\u6539\u90e8\u95e8",modifyLabel:"\u8bf7\u8f93\u5165\u90e8\u95e8\u540d\u79f0",initialValue:t,callBack(t){var n={id:e,name:t};m.default.editEnterpriseOrgInfoById(n).then(e=>{var t=e.data;a.handerAjaxBack(t)})}})}deleteEnterpriseOrgInfoById(e){var t=this;this.handerShowDel(()=>{m.default.deleteEnterpriseOrgInfoById({id:e}).then(e=>{var a=e.data;t.handerAjaxBack(a)})})}render(){var e=this,t=this.props,a=t.structure,n=t.openConfigMenus,u=a.sectionStructure,f=this.state,h=f.visibleModify,_=f.modifyTitle,g=f.modifyLabel,y=f.callBack,E=f.initialValue,M=f.valueInput,x=t=>{var a=t.target.value;e.save({valueInput:a})},C=()=>{if(!M)return i.default.error("\u8bf7\u586b\u5199\u90e8\u95e8\u540d\u79f0"),!1;m.default.addEnterpriseOrgInfo({name:M,parentId:-1}).then(t=>{var a=t.data;"success"===a.msg&&e.save({valueInput:""}),e.handerAjaxBack(a)})},B="";v.default.isEmpty(u)||(B=u.map((t,a)=>{return o.default.createElement("div",{key:a,className:c.default.areaBox},o.default.createElement("div",{className:c.default.titleBox},o.default.createElement("div",{className:c.default.title},o.default.createElement("i",{className:"iconfont"},"\ue639"),t.name),o.default.createElement("div",{className:c.default.operateBox},o.default.createElement("span",{onClick:e=>{n(t.index)}},"\u914d\u7f6e\u83dc\u5355"),o.default.createElement("span",{onClick:a=>{e.handerModifySection(t.id)}},"\u7f16\u8f91"),o.default.createElement("span",{onClick:a=>{e.deleteEnterpriseOrgInfoById(t.id)}},"\u5220\u9664"))))}));var k={visible:h,title:_,inputLabel:g,initialValue:E,onCancel(){e.save({visibleModify:!1})},callBack:y};return o.default.createElement("div",null,o.default.createElement("div",null,o.default.createElement(p.default,k)),o.default.createElement("div",{className:c.default.addBtnBox},o.default.createElement(r.default,null,o.default.createElement(d.default,{span:9},o.default.createElement(s.default,{value:M,onChange:x,onPressEnter:C,autoComplete:"off",placeholder:"\u586b\u5199\u90e8\u95e8\u540d\u79f0"})),o.default.createElement(d.default,{span:4,style:{paddingLeft:"24px"}},o.default.createElement(l.default,{type:"primary",onClick:C,loading:!1},"\u6dfb\u52a0")))),o.default.createElement("div",null,B))}}var g=(0,f.connect)(e=>{var t=e.structure;return{structure:t}})(_);t.default=g}}]);