(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[20],{aLle:function(e,a,t){"use strict";var d=t("TqRt");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("sPJy");var n=d(t("bE4q"));t("miYZ");var l=d(t("tsqr")),r=d(t("lwsE")),s=d(t("W8MJ")),u=d(t("a1gu")),i=d(t("Nsbk")),o=d(t("7W2i"));t("Znn+");var f=d(t("ZTPi")),c=d(t("q1tI")),p=t("MuoO"),m=t("7DNP"),y=d(t("LvDl")),v=d(t("3eXy")),b=d(t("w1JU")),h=d(t("wCiI")),E=d(t("FPa0")),U=d(t("uSOS")),D=d(t("eu3l")),g=f.default.TabPane,k=function(e){function a(e){var t;return(0,r.default)(this,a),t=(0,u.default)(this,(0,i.default)(a).call(this,e)),t.state={uid:""},t}return(0,o.default)(a,e),(0,s.default)(a,[{key:"UNSAFE_componentWillMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"save",value:function(e){this._isMounted&&this.setState(e)}},{key:"render",value:function(){var e=this,a=this.state.uid,t=this.props,d=t.addUser,r=t.dispatch,s=t.app,u=t.user,i=s.defaultImg,o=u.userInfo.token,p=d.personalDisabled,k=d.basicDisabled,x=d.experienceDisabled,T=d.departmentType,w=d.positionData,P=d.twoDepartmentData,N=d.portrayalDisabled,I=d.activeTabsKey,K=d.addUserParam,M=function(e){r({type:"addUser/save",payload:{activeTabsKey:e}})},J={departmentType:T,handerChange:function(e){r({type:"addUser/save",payload:{departmentType:e}})},handerNext:function(e){var a=e.storeId;y.default.extend(K,e),r({type:"addUser/save",payload:{personalDisabled:!1,activeTabsKey:"1",addUserParam:K}}),"1"===T&&a&&(r({type:"addUser/getPosition"}),r({type:"addUser/getTwoDepartmentBySid",payload:{sid:a}}))}},S={handerNext:function(e){y.default.extend(K,e),r({type:"addUser/save",payload:{activeTabsKey:"2",basicDisabled:!1,addUserParam:K}})}},_={positionData:w,twoDepartmentData:P,handerNext:function(a){y.default.extend(K,a,{contractDate:""}),v.default.addUser(K).then(function(a){var t=a.data;"success"===t.msg?(e.save({uid:t.data.id}),r({type:"addUser/save",payload:{experienceDisabled:!1,activeTabsKey:"3"}})):l.default.error(t.msg)})}},W={handerNext:function(e){y.default.forEach(e,function(e){e.uid=a}),v.default.addUserWork({jsondata:JSON.stringify(e)}).then(function(e){var a=e.data;"success"===a.msg?r({type:"addUser/save",payload:{portrayalDisabled:!1,activeTabsKey:"4"}}):l.default.error(a.msg)})}},q={action:v.default.addImg+"?token="+o,defaultImg:i,handerNext:function(e){y.default.extend(e,{uid:a}),v.default.addUserPortrayal(e).then(function(e){var a=e.data;"success"===a.msg?(l.default.success("\u5458\u5de5\u6dfb\u52a0\u6210\u529f"),m.routerRedux.push({pathname:"/personnel/record"})):l.default.error(a.msg)})}};return c.default.createElement("div",null,c.default.createElement("div",{style:{paddingBottom:"12px"}},c.default.createElement(n.default,null,c.default.createElement(n.default.Item,null,c.default.createElement(m.Link,{to:"/personnel/record"},"\u5458\u5de5\u6863\u6848")),c.default.createElement(n.default.Item,null,"\u6dfb\u52a0\u7528\u6237"))),c.default.createElement("div",{className:"contentBox"},c.default.createElement(f.default,{activeKey:I,tabPosition:"left",onChange:M},c.default.createElement(g,{tab:"\u5f52\u5c5e\u90e8\u95e8",key:"0"},c.default.createElement(b.default,J)),c.default.createElement(g,{tab:"\u4e2a\u4eba\u4fe1\u606f",key:"1",disabled:p},c.default.createElement(h.default,S)),c.default.createElement(g,{tab:"\u57fa\u672c\u4fe1\u606f",disabled:k,key:"2"},c.default.createElement(E.default,_)),c.default.createElement(g,{tab:"\u5de5\u4f5c\u7ecf\u5386",disabled:x,key:"3"},c.default.createElement(U.default,W)),c.default.createElement(g,{tab:"\u5458\u5de5\u753b\u50cf",disabled:N,key:"4"},c.default.createElement(D.default,q)))))}}]),a}(c.default.Component),x=(0,p.connect)(function(e){var a=e.addUser,t=e.app,d=e.user;return{addUser:a,app:t,user:d}})(k);a.default=x}}]);