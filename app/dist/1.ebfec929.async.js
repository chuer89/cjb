webpackJsonp([1],{Zn4E:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Biqn"),n=a.n(r),s=a("En79"),c=a.n(s),i=a("+vOg"),o=a("M4fF"),u=a.n(o);t.default={namespace:"editUser",state:{userParam:{},activeTabsKey:"1",basicDisabled:!0,experienceDisabled:!0,portrayalDisabled:!0,positionData:[],twoDepartmentData:[],uid:"",userWork:[],userDetails:{},portrayalImg:{},salaryRecord:[],positionRecord:[]},subscriptions:{setup:function(e){var t=e.dispatch;e.history.listen(function(e){var a=e.pathname,r=a.split("/"),n=r.length,s=r[n-1];u.a.toNumber(s)&&(t({type:"save",payload:{uid:s}}),s&&(t({type:"getUserById"}),t({type:"getPosition"})))})}},effects:{fetch:c.a.mark(function e(t,a){var r,n,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,e.next=4,s({type:"save"});case 4:case"end":return e.stop()}},e,this)}),getUserById:c.a.mark(function e(t,a){var r,n,s,o,d,p,l,y,f,x,v;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,o=a.select,e.next=4,o(function(e){return e.editUser});case 4:return d=e.sent,p=d.uid,l={},u.a.extend(l,r,{id:p}),e.next=10,n(i.a.getUserById,l);case 10:if(y=e.sent,f=y.data,"success"!==f.msg){e.next=22;break}return x=f.data||{},e.next=16,s({type:"save",payload:{userDetails:x}});case 16:if(!(v=x.storeId)){e.next=22;break}return e.next=20,s({type:"getPosition",payload:{sid:v}});case 20:return e.next=22,s({type:"getTwoDepartmentBySid",payload:{sid:v}});case 22:case"end":return e.stop()}},e,this)}),getPosition:c.a.mark(function e(t,a){var r,n,s,o,u,d;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,e.next=4,n(i.a.getPosition,r);case 4:if(o=e.sent,u=o.data,"success"!==u.msg){e.next=10;break}return d=u.data,e.next=10,s({type:"save",payload:{positionData:d}});case 10:case"end":return e.stop()}},e,this)}),getTwoDepartmentBySid:c.a.mark(function e(t,a){var r,n,s,o,u,d;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,e.next=4,n(i.a.getTwoDepartmentBySid,r);case 4:if(o=e.sent,u=o.data,"success"!==u.msg){e.next=11;break}return d=u.data,d.push({name:"\u81ea\u5b9a\u4e49",code:"-1"}),e.next=11,s({type:"save",payload:{twoDepartmentData:d}});case 11:case"end":return e.stop()}},e,this)}),getUserWorkByUid:c.a.mark(function e(t,a){var r,n,s,o,d,p,l,y,f;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,o=a.select,e.next=4,o(function(e){return e.editUser});case 4:return d=e.sent,p=d.uid,l={},u.a.extend(l,r,{uid:p}),e.next=10,n(i.a.getUserWorkByUid,l);case 10:if(y=e.sent,f=y.data,"success"!==f.msg){e.next=15;break}return e.next=15,s({type:"save",payload:{userWork:f.data}});case 15:case"end":return e.stop()}},e,this)}),getUserPortrayalByUid:c.a.mark(function e(t,a){var r,n,s,o,d,p,l,y,f,x,v,h,g,m,U,w,k,b,B,D,R;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,o=a.select,e.next=4,o(function(e){return e.editUser});case 4:return d=e.sent,p=d.uid,l={},u.a.extend(l,r,{uid:p}),e.next=10,n(i.a.getUserPortrayalByUid,l);case 10:if(y=e.sent,f=y.data,x=f.data,v=x.userPortrayal,h=x.files,"success"!==f.msg){e.next=22;break}return g={},u.a.forEach(h,function(e){g[e.id]=e}),m=v||{},U=m.idcardFront,w=m.idcardReverse,k=m.healthCertificateFront,b=m.healthCertificateReverse,B=m.contract,D=JSON.parse(B||"[]"),R=[],u.a.forEach(D,function(e){R.push(g[e])}),e.next=22,s({type:"save",payload:{portrayalImg:{idcardFront:g[U],idcardReverse:g[w],healthCertificateFront:g[k],healthCertificateReverse:g[b],contract:R}}});case 22:case"end":return e.stop()}},e,this)}),getUserSalaryRecordByUid:c.a.mark(function e(t,a){var r,n,s,o,d,p,l,y,f;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,o=a.select,e.next=4,o(function(e){return e.editUser});case 4:return d=e.sent,p=d.uid,l={},u.a.extend(l,r,{uid:p}),e.next=10,n(i.a.getUserSalaryRecordByUid,l);case 10:if(y=e.sent,f=y.data,"success"!==f.msg){e.next=15;break}return e.next=15,s({type:"save",payload:{salaryRecord:f.data}});case 15:case"end":return e.stop()}},e,this)}),getUserPositionRecordByUid:c.a.mark(function e(t,a){var r,n,s,o,d,p,l,y,f;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,o=a.select,e.next=4,o(function(e){return e.editUser});case 4:return d=e.sent,p=d.uid,l={},u.a.extend(l,r,{uid:p}),e.next=10,n(i.a.getUserPositionRecordByUid,l);case 10:if(y=e.sent,f=y.data,"success"!==f.msg){e.next=15;break}return e.next=15,s({type:"save",payload:{positionRecord:f.data}});case 15:case"end":return e.stop()}},e,this)})},reducers:{save:function(e,t){return n()({},e,t.payload)}}}}});