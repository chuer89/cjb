(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{XRCZ:function(e,t,a){"use strict";var s=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(a("MVZn"));a("miYZ");var n=s(a("tsqr")),c=s(a("o0o1")),u=s(a("3eXy")),o=s(a("LvDl")),d={namespace:"record",state:{dataBody:{},pageSize:20,firstPage:1,loadingList:!0,statusData:[{value:"\u5168\u90e8",code:""},{value:"\u8bd5\u7528",code:"1"},{value:"\u5728\u804c",code:"2"},{value:"\u79bb\u804c",code:"3"},{value:"\u5f85\u79bb\u804c",code:"4"}],contractType:[{value:"\u5168\u90e8",code:""},{value:"\u56fa\u5b9a\u671f\u9650",code:"1"},{value:"\u65e0\u56fa\u5b9a\u671f\u9650",code:"2"},{value:"\u8bd5\u7528",code:"3"}],warningData:[{value:"\u5168\u90e8",code:""},{value:"\u8eab\u4efd\u8bc1",code:"1"},{value:"\u5065\u5eb7\u8bc1",code:"2"},{value:"\u52b3\u52a8\u5408\u540c",code:"3"}],searchParam:{page:1},selectedRowUserId:"",visibleBatch:!1,visibleJobStatus:!1,workUserinfo:{}},subscriptions:{setup:function(e){var t=e.dispatch,a=e.history;a.listen(function(e){var s=e.pathname,r=o.default.get(a,"location.query.status"),n=r?[r]:[];"/personnel/record"===s&&(t({type:"save",payload:{searchParam:{page:1,status:n}}}),t({type:"getUserList",payload:{page:1,status:n}}),t({type:"fetchWorkUserinfo"}),t({type:"save",payload:{selectedRowUserId:"",visibleBatch:!1}}))})}},effects:{fetch:c.default.mark(function e(t,a){var s;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.payload,a.call,s=a.put,e.next=4,s({type:"save"});case 4:case"end":return e.stop()}},e,this)}),fetchWorkUserinfo:c.default.mark(function e(t,a){var s,r,n,o,d;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.payload,r=a.call,n=a.put,e.next=4,r(u.default.workUserinfo,s);case 4:if(o=e.sent,d=o.data,"success"!==d.msg){e.next=9;break}return e.next=9,n({type:"save",payload:{workUserinfo:d.data}});case 9:case"end":return e.stop()}},e,this)}),getUserList:c.default.mark(function e(t,a){var s,r,n,d,l,i,p,f,v,y,h,w,g;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.payload,r=a.call,n=a.put,d=a.select,e.next=4,d(function(e){return e.user});case 4:return l=e.sent,i=l.dept,e.next=8,d(function(e){return e.record});case 8:return p=e.sent,f=p.pageSize,v=p.searchParam,e.next=13,n({type:"save",payload:{loadingList:!0}});case 13:return y={},o.default.extend(y,v,s,{length:f,dept:i}),h=f*(y.page-1)||0,y.start=h,e.next=19,r(u.default.getUserList,y);case 19:if(w=e.sent,g=w.data,"success"!==g.msg){e.next=26;break}return e.next=24,n({type:"save",payload:{dataBody:g.data,loadingList:!1}});case 24:e.next=28;break;case 26:return e.next=28,n({type:"save",payload:{loadingList:!0}});case 28:case"end":return e.stop()}},e,this)}),updateAll:c.default.mark(function e(t,a){var s,r,d,l,i,p;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.payload,r=t.successBack,d=a.call,l=a.put,e.next=4,d(u.default.updateAll,s);case 4:if(i=e.sent,p=i.data,"success"!==p.msg){e.next=15;break}return n.default.success("\u4fee\u6539\u6210\u529f"),e.next=10,l({type:"save",payload:{visibleBatch:!1,visibleJobStatus:!1}});case 10:return e.next=12,l({type:"getUserList"});case 12:o.default.isFunction(r)&&r(),e.next=16;break;case 15:n.default.error(p.msg);case 16:case"end":return e.stop()}},e,this)})},reducers:{save:function(e,t){return(0,r.default)({},e,t.payload)}}};t.default=d}}]);