webpackJsonp([1],{Zn4E:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Biqn"),n=a.n(r),s=a("En79"),c=a.n(s),i=a("+vOg"),u=a("M4fF"),o=a.n(u);t.default={namespace:"editUser",state:{userParam:{},activeTabsKey:"1",basicDisabled:!0,experienceDisabled:!0,portrayalDisabled:!0,positionData:[],uid:"",userWork:[],userDetails:{},portrayalImg:{},salaryRecord:[]},subscriptions:{setup:function(e){var t=e.dispatch;e.history.listen(function(e){var a=e.pathname,r=a.split("/"),n=r.length,s=r[n-1];o.a.toNumber(s)&&(t({type:"save",payload:{uid:s}}),s&&t({type:"getUserById"}))})}},effects:{fetch:c.a.mark(function e(t,a){var r,n,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,e.next=4,s({type:"save"});case 4:case"end":return e.stop()}},e,this)}),getUserById:c.a.mark(function e(t,a){var r,n,s,u,d,p,l,f,y,x,v;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,u=a.select,e.next=4,u(function(e){return e.editUser});case 4:return d=e.sent,p=d.uid,l={},o.a.extend(l,r,{id:p}),e.next=10,n(i.a.getUserById,l);case 10:if(f=e.sent,y=f.data,"success"!==y.msg){e.next=20;break}return x=y.data||{},e.next=16,s({type:"save",payload:{userDetails:x}});case 16:if(!(v=x.storeId)){e.next=20;break}return e.next=20,s({type:"getPosition",payload:{sid:v}});case 20:case"end":return e.stop()}},e,this)}),getPosition:c.a.mark(function e(t,a){var r,n,s,u,o,d;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,e.next=4,n(i.a.getPosition,r);case 4:if(u=e.sent,o=u.data,"success"!==o.msg){e.next=11;break}return d=o.data,d.push({name:"\u5176\u4ed6",id:""}),e.next=11,s({type:"save",payload:{positionData:d}});case 11:case"end":return e.stop()}},e,this)}),getUserWorkByUid:c.a.mark(function e(t,a){var r,n,s,u,d,p,l,f,y;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,u=a.select,e.next=4,u(function(e){return e.editUser});case 4:return d=e.sent,p=d.uid,l={},o.a.extend(l,r,{uid:p}),e.next=10,n(i.a.getUserWorkByUid,l);case 10:if(f=e.sent,y=f.data,"success"!==y.msg){e.next=15;break}return e.next=15,s({type:"save",payload:{userWork:y.data}});case 15:case"end":return e.stop()}},e,this)}),getUserPortrayalByUid:c.a.mark(function e(t,a){var r,n,s,u,d,p,l,f,y,x,v,h,g,U,m,k,b,w,B,P,R;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,u=a.select,e.next=4,u(function(e){return e.editUser});case 4:return d=e.sent,p=d.uid,l={},o.a.extend(l,r,{uid:p}),e.next=10,n(i.a.getUserPortrayalByUid,l);case 10:if(f=e.sent,y=f.data,x=y.data,v=x.userPortrayal,h=x.files,"success"!==y.msg){e.next=22;break}return g={},o.a.forEach(h,function(e){g[e.id]=e}),U=v||{},m=U.idcardFront,k=U.idcardReverse,b=U.healthCertificateFront,w=U.healthCertificateReverse,B=U.contract,P=JSON.parse(B||"[]"),R=[],o.a.forEach(P,function(e){R.push(g[e])}),e.next=22,s({type:"save",payload:{portrayalImg:{idcardFront:g[m],idcardReverse:g[k],healthCertificateFront:g[b],healthCertificateReverse:g[w],contract:R}}});case 22:case"end":return e.stop()}},e,this)}),getUserSalaryRecordByUid:c.a.mark(function e(t,a){var r,n,s,u,d,p,l,f,y;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,u=a.select,e.next=4,u(function(e){return e.editUser});case 4:return d=e.sent,p=d.uid,l={},o.a.extend(l,r,{uid:p}),e.next=10,n(i.a.getUserSalaryRecordByUid,l);case 10:if(f=e.sent,y=f.data,"success"!==y.msg){e.next=15;break}return e.next=15,s({type:"save",payload:{salaryRecord:y.data}});case 15:case"end":return e.stop()}},e,this)})},reducers:{save:function(e,t){return n()({},e,t.payload)}}}}});