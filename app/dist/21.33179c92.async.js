(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{lci7:function(e,t,a){"use strict";var d=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("sPJy");var r=d(a("bE4q"));a("miYZ");var l=d(a("tsqr")),n=d(a("lwsE")),s=d(a("W8MJ")),u=d(a("a1gu")),i=d(a("Nsbk")),o=d(a("7W2i"));a("Znn+");var f=d(a("ZTPi")),c=d(a("q1tI")),p=a("MuoO"),y=d(a("mOP9")),m=d(a("LvDl")),b=d(a("3eXy")),v=d(a("usdK")),g=d(a("w1JU")),h=d(a("wCiI")),D=d(a("FPa0")),U=d(a("uSOS")),E=d(a("eu3l")),k=f.default.TabPane,x=function(e){function t(e){var a;return(0,n.default)(this,t),a=(0,u.default)(this,(0,i.default)(t).call(this,e)),a.state={},a}return(0,o.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.editUser,a=e.dispatch,d=e.app,n=e.user,s=t.personalDisabled,u=t.basicDisabled,i=t.experienceDisabled,o=t.twoDepartmentData,p=t.portrayalDisabled,x=t.activeTabsKey,P=t.userParam,T=t.uid,w=t.positionData,I=t.userWork,N=t.userDetails,K=t.portrayalImg,J=t.departmentType,W=d.defaultImg,B=n.userInfo.token,O=function(e){a({type:"editUser/save",payload:{activeTabsKey:e}})},S={departmentType:J,userDetails:N,handerChange:function(e){a({type:"editUser/save",payload:{departmentType:e}})},handerNext:function(e){var t=e.storeId;m.default.extend(P,e),a({type:"editUser/save",payload:{personalDisabled:!1,activeTabsKey:"1",userParam:P}}),"1"===J&&t&&(a({type:"editUser/getPosition"}),a({type:"editUser/getTwoDepartmentBySid",payload:{sid:t}}))}},q={userDetails:N,handerNext:function(e){m.default.extend(P,e),a({type:"editUser/save",payload:{activeTabsKey:"2",userParam:P,basicDisabled:!1}})}},C={userDetails:N,positionData:w,twoDepartmentData:o,handerNext:function(e){m.default.extend(P,e,{contractDate:"",id:T}),b.default.updateUser(P).then(function(e){var t=e.data;"success"===t.msg?(a({type:"editUser/save",payload:{experienceDisabled:!1,activeTabsKey:"3"}}),a({type:"editUser/getUserWorkByUid"})):l.default.error(t.msg)})}},M={userWork:I,handerNext:function(e){m.default.forEach(e,function(e){e.uid=T}),b.default.addUserWork({jsondata:JSON.stringify(e)}).then(function(e){var t=e.data;"success"===t.msg?(a({type:"editUser/save",payload:{portrayalDisabled:!1,activeTabsKey:"4"}}),a({type:"editUser/getUserPortrayalByUid"})):l.default.error(t.msg)})},handerDel:function(e){b.default.deleteUserWorkById({ids:JSON.stringify([e])}).then(function(e){var t=e.data;"success"===t.msg||l.default.error(t.msg)})}},Z={action:b.default.addImg+"?token="+B,defaultImg:W,portrayalImg:K,handerNext:function(e){m.default.extend(e,{uid:T}),b.default.addUserPortrayal(e).then(function(e){var t=e.data;"success"===t.msg?(l.default.success("\u5458\u5de5\u4fee\u6539\u6210\u529f"),v.default.push({pathname:"/personnel/record"})):l.default.error(t.msg)})}};return c.default.createElement("div",null,c.default.createElement("div",{style:{paddingBottom:"12px"}},c.default.createElement(r.default,null,c.default.createElement(r.default.Item,null,c.default.createElement(y.default,{to:"/personnel/record"},"\u5458\u5de5\u6863\u6848")),c.default.createElement(r.default.Item,null,"\u7f16\u8f91\u7528\u6237"))),c.default.createElement("div",{className:"contentBox"},c.default.createElement(f.default,{activeKey:x,tabPosition:"left",onChange:O},c.default.createElement(k,{tab:"\u5f52\u5c5e\u90e8\u95e8",key:"0"},c.default.createElement(g.default,S)),c.default.createElement(k,{tab:"\u4e2a\u4eba\u4fe1\u606f",disabled:s,key:"1"},c.default.createElement(h.default,q)),c.default.createElement(k,{tab:"\u57fa\u672c\u4fe1\u606f",disabled:u,key:"2"},c.default.createElement(D.default,C)),c.default.createElement(k,{tab:"\u5de5\u4f5c\u7ecf\u5386",disabled:i,key:"3"},c.default.createElement(U.default,M)),c.default.createElement(k,{tab:"\u5458\u5de5\u753b\u50cf",disabled:p,key:"4"},c.default.createElement(E.default,Z)))))}}]),t}(c.default.Component),P=(0,p.connect)(function(e){var t=e.editUser,a=e.app,d=e.user;return{editUser:t,app:a,user:d}})(x);t.default=P}}]);