(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[20],{aLle:function(e,a,t){"use strict";var d=t("TqRt");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("sPJy");var s=d(t("bE4q"));t("miYZ");var l=d(t("tsqr"));t("Znn+");var r=d(t("ZTPi")),n=d(t("q1tI")),u=t("MuoO"),i=t("7DNP"),o=d(t("LvDl")),c=d(t("3eXy")),p=d(t("w1JU")),f=d(t("wCiI")),m=d(t("FPa0")),y=d(t("uSOS")),v=d(t("eu3l")),b=r.default.TabPane;class h extends n.default.Component{constructor(e){super(e),this.state={uid:""}}UNSAFE_componentWillMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}save(e){this._isMounted&&this.setState(e)}render(){var e=this,a=this.state.uid,t=this.props,d=t.addUser,u=t.dispatch,h=t.app,E=t.user,U=h.defaultImg,D=E.userInfo.token,g=d.personalDisabled,x=d.basicDisabled,T=d.experienceDisabled,P=d.departmentType,k=d.positionData,w=d.twoDepartmentData,I=d.portrayalDisabled,N=d.activeTabsKey,K=d.addUserParam,M=e=>{u({type:"addUser/save",payload:{activeTabsKey:e}})},S={departmentType:P,handerChange(e){u({type:"addUser/save",payload:{departmentType:e}})},handerNext(e){var a=e.storeId;o.default.extend(K,e),u({type:"addUser/save",payload:{personalDisabled:!1,activeTabsKey:"1",addUserParam:K}}),"1"===P&&a&&(u({type:"addUser/getPosition"}),u({type:"addUser/getTwoDepartmentBySid",payload:{sid:a}}))}},_={handerNext(e){o.default.extend(K,e),u({type:"addUser/save",payload:{activeTabsKey:"2",basicDisabled:!1,addUserParam:K}})}},J={positionData:k,twoDepartmentData:w,handerNext(a){o.default.extend(K,a,{contractDate:""}),c.default.addUser(K).then(a=>{var t=a.data;"success"===t.msg?(e.save({uid:t.data.id}),u({type:"addUser/save",payload:{experienceDisabled:!1,activeTabsKey:"3"}})):l.default.error(t.msg)})}},q={handerNext(e){o.default.forEach(e,e=>{e.uid=a}),c.default.addUserWork({jsondata:JSON.stringify(e)}).then(e=>{var a=e.data;"success"===a.msg?u({type:"addUser/save",payload:{portrayalDisabled:!1,activeTabsKey:"4"}}):l.default.error(a.msg)})}},C={action:c.default.addImg+"?token="+D,defaultImg:U,handerNext(e){o.default.extend(e,{uid:a}),c.default.addUserPortrayal(e).then(e=>{var a=e.data;"success"===a.msg?(l.default.success("\u5458\u5de5\u6dfb\u52a0\u6210\u529f"),i.routerRedux.push({pathname:"/personnel/record"})):l.default.error(a.msg)})}};return n.default.createElement("div",null,n.default.createElement("div",{style:{paddingBottom:"12px"}},n.default.createElement(s.default,null,n.default.createElement(s.default.Item,null,n.default.createElement(i.Link,{to:"/personnel/record"},"\u5458\u5de5\u6863\u6848")),n.default.createElement(s.default.Item,null,"\u6dfb\u52a0\u7528\u6237"))),n.default.createElement("div",{className:"contentBox"},n.default.createElement(r.default,{activeKey:N,tabPosition:"left",onChange:M},n.default.createElement(b,{tab:"\u5f52\u5c5e\u90e8\u95e8",key:"0"},n.default.createElement(p.default,S)),n.default.createElement(b,{tab:"\u4e2a\u4eba\u4fe1\u606f",key:"1",disabled:g},n.default.createElement(f.default,_)),n.default.createElement(b,{tab:"\u57fa\u672c\u4fe1\u606f",disabled:x,key:"2"},n.default.createElement(m.default,J)),n.default.createElement(b,{tab:"\u5de5\u4f5c\u7ecf\u5386",disabled:T,key:"3"},n.default.createElement(y.default,q)),n.default.createElement(b,{tab:"\u5458\u5de5\u753b\u50cf",disabled:I,key:"4"},n.default.createElement(v.default,C)))))}}var E=(0,u.connect)(e=>{var a=e.addUser,t=e.app,d=e.user;return{addUser:a,app:t,user:d}})(h);a.default=E}}]);