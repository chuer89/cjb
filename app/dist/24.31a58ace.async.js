(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{aLle:function(e,t,a){"use strict";var d=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("sPJy");var n=d(a("bE4q"));a("miYZ");var l=d(a("tsqr")),r=d(a("lwsE")),s=d(a("W8MJ")),u=d(a("a1gu")),i=d(a("Nsbk")),o=d(a("7W2i"));a("Znn+");var f=d(a("ZTPi")),c=d(a("q1tI")),p=a("MuoO"),m=a("7DNP"),y=d(a("LvDl")),v=d(a("3eXy")),b=d(a("usdK")),h=d(a("w1JU")),E=d(a("wCiI")),U=d(a("FPa0")),D=d(a("uSOS")),g=d(a("eu3l")),k=f.default.TabPane,x=function(e){function t(e){var a;return(0,r.default)(this,t),a=(0,u.default)(this,(0,i.default)(t).call(this,e)),a.state={uid:""},a}return(0,o.default)(t,e),(0,s.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"save",value:function(e){this._isMounted&&this.setState(e)}},{key:"render",value:function(){var e=this,t=this.state.uid,a=this.props,d=a.addUser,r=a.dispatch,s=a.app,u=a.user,i=a.location.query,o=s.defaultImg,p=u.userInfo.token,x=d.personalDisabled,T=d.basicDisabled,w=d.experienceDisabled,P=d.departmentType,I=d.positionData,N=d.twoDepartmentData,K=d.portrayalDisabled,M=d.activeTabsKey,J=d.addUserParam,S=function(e){r({type:"addUser/save",payload:{activeTabsKey:e}})},_={};y.default.isEmpty(i)||(P=i.departmentType,_.storeId=y.default.toNumber(i.storeId));var q={departmentType:P,userDetails:_,handerChange:function(e){r({type:"addUser/save",payload:{departmentType:e}})},handerNext:function(e){var t=e.storeId;y.default.extend(J,e),r({type:"addUser/save",payload:{personalDisabled:!1,activeTabsKey:"1",addUserParam:J}}),"1"===P&&t&&(r({type:"addUser/getPosition"}),r({type:"addUser/getTwoDepartmentBySid",payload:{sid:t}}))}},F=function(){l.default.success("\u5458\u5de5\u5165\u804c\u6210\u529f"),b.default.push({pathname:"/personnel/record"})},W=function(e){y.default.extend(J,e),v.default.addUser(J).then(function(e){var t=e.data;"success"===t.msg?F():l.default.error(t.msg)})},C={handerNext:function(e){y.default.extend(J,e),r({type:"addUser/save",payload:{activeTabsKey:"2",basicDisabled:!1,addUserParam:J}})},handerFastEntry:W},O={positionData:I,twoDepartmentData:N,handerNext:function(t){y.default.extend(J,t,{contractDate:""}),v.default.addUser(J).then(function(t){var a=t.data;"success"===a.msg?(e.save({uid:a.data.id}),r({type:"addUser/save",payload:{experienceDisabled:!1,activeTabsKey:"3"}})):l.default.error(a.msg)})},handerFastEntry:W},B={handerNext:function(e){y.default.forEach(e,function(e){e.uid=t}),v.default.addUserWork({jsondata:JSON.stringify(e)}).then(function(e){var t=e.data;"success"===t.msg?r({type:"addUser/save",payload:{portrayalDisabled:!1,activeTabsKey:"4"}}):l.default.error(t.msg)})},handerFastEntry:W},L={action:v.default.addImg+"?token="+p,defaultImg:o,handerNext:function(e){y.default.extend(e,{uid:t}),v.default.addUserPortrayal(e).then(function(e){var t=e.data;"success"===t.msg?F():l.default.error(t.msg)})}};return c.default.createElement("div",null,c.default.createElement("div",{style:{paddingBottom:"12px"}},c.default.createElement(n.default,null,c.default.createElement(n.default.Item,null,c.default.createElement(m.Link,{to:"/personnel/record"},"\u5458\u5de5\u6863\u6848")),c.default.createElement(n.default.Item,null,"\u6dfb\u52a0\u7528\u6237"))),c.default.createElement("div",{className:"contentBox"},c.default.createElement(f.default,{activeKey:M,tabPosition:"left",onChange:S},c.default.createElement(k,{tab:"\u5f52\u5c5e\u90e8\u95e8",key:"0"},c.default.createElement(h.default,q)),c.default.createElement(k,{tab:"\u4e2a\u4eba\u4fe1\u606f",key:"1",disabled:x},c.default.createElement(E.default,C)),c.default.createElement(k,{tab:"\u57fa\u672c\u4fe1\u606f",disabled:T,key:"2"},c.default.createElement(U.default,O)),c.default.createElement(k,{tab:"\u5de5\u4f5c\u7ecf\u5386",disabled:w,key:"3"},c.default.createElement(D.default,B)),c.default.createElement(k,{tab:"\u5458\u5de5\u753b\u50cf",disabled:K,key:"4"},c.default.createElement(g.default,L)))))}}]),t}(c.default.Component),T=(0,p.connect)(function(e){var t=e.addUser,a=e.app,d=e.user;return{addUser:t,app:a,user:d}})(x);t.default=T}}]);