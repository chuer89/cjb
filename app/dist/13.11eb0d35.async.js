(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"17gZ":function(e,t,a){e.exports={"text-overflow":"text-overflow___22nSL",clearfix:"clearfix___1yLZs",fl:"fl___341UI",fr:"fr___34Mg6",contentBox:"contentBox___1k774",menusBox:"menusBox___Cz1Tj",itemMenus:"itemMenus___1j-0A"}},"3gL6":function(e,t,a){e.exports={"text-overflow":"text-overflow___1bjED",clearfix:"clearfix___1jSOW",fl:"fl___27UBk",fr:"fr___16ihH",content:"content___6QaF4"}},J0fQ:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var l=n(a("kLXV"));a("sRBo");var u=n(a("kaz8"));a("miYZ");var i=n(a("tsqr")),r=n(a("lwsE")),d=n(a("W8MJ")),o=n(a("a1gu")),f=n(a("Nsbk")),s=n(a("7W2i"));a("Znn+");var c=n(a("ZTPi")),v=n(a("q1tI")),m=n(a("17gZ")),p=n(a("LvDl")),h=n(a("3eXy")),y=c.default.TabPane,g=function(e){function t(e){var a;return(0,r.default)(this,t),a=(0,o.default)(this,(0,f.default)(t).call(this,e)),a.state={},a}return(0,s.default)(t,e),(0,d.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"save",value:function(e){this._isMounted&&this.setState(e)}},{key:"handerAdd",value:function(e){var t=this.props.handerAdd;h.default.addEnterpriseOrgMenu(e).then(function(e){var a=e.data;"success"===a.msg?t(a.data):i.default.error(a.msg)})}},{key:"handerDel",value:function(e){h.default.deleteEnterpriseOrgMenuById(e).then(function(e){var t=e.data;"success"===t.msg||i.default.error(t.msg)})}},{key:"render",value:function(){var e=this.props,t=e.user,a=e.visible,n=e.onCancel,i=e.orgIndex,r=e.enteryConfigMenus,d=t.menus,o=this,f="",s="",h="";return p.default.isEmpty(d)||(h=""+d[0].id,s=d.map(function(e){var t="";return p.default.isEmpty(e.tree)||(t=e.tree.map(function(e){var t=e.id,a=e.index,n=r[t]||{},l=!!n.id,d=function(e){var l=e.target.checked;l?o.handerAdd({mid:t,orgIndex:i,mindex:a}):o.handerDel({id:n.id})};return v.default.createElement("div",{key:e.id,className:m.default.itemMenus},v.default.createElement(u.default,{defaultChecked:l,onChange:d},e.name))})),v.default.createElement(y,{tab:e.name,key:e.id},v.default.createElement("div",{className:m.default.menusBox,style:{overflow:"hidden"}},t))}),f=v.default.createElement(c.default,{defaultActiveKey:h},s)),v.default.createElement(l.default,{title:"\u5458\u5de5\u83dc\u5355\u6743\u9650\u914d\u7f6e",width:600,destroyOnClose:!0,visible:a,footer:null,onCancel:n},v.default.createElement("div",{className:m.default.contentBox},f))}}]),t}(v.default.Component),E=g;t.default=E},dTLy:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var l=n(a("kLXV"));a("7Kak");var u=n(a("9yH6")),i=n(a("pVnL"));a("5NDa");var r=n(a("5rEg")),d=n(a("lwsE")),o=n(a("W8MJ")),f=n(a("a1gu")),s=n(a("Nsbk")),c=n(a("7W2i"));a("y8nQ");var v=n(a("Vl3Y")),m=n(a("q1tI")),p=n(a("7G0O")),h=v.default.Item,y=function(e){function t(){var e,a;(0,d.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,f.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),a.state={},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.form,a=t.getFieldDecorator,n=t.validateFieldsAndScroll,d=(t.validateFields,e.title),o=e.visible,f=e.onCancel,s=e.inputLabel,c=e.initialValue,v=c.hr,y=c.name,g=e.callBack,E=function(e){e.preventDefault(),n(function(e,t){e||g(t)})},k={labelCol:{sm:{span:8}},wrapperCol:{sm:{span:15}}};return m.default.createElement(l.default,{title:d,width:600,destroyOnClose:!0,visible:o,onOk:E,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",centered:!0,onCancel:f},m.default.createElement("div",{className:p.default.content},m.default.createElement("form",null,m.default.createElement(h,(0,i.default)({},k,{label:"\u540d\u79f0"}),a("name",{rules:[{required:!0,message:s}],initialValue:y})(m.default.createElement(r.default,{size:"large",onPressEnter:E,autoComplete:"off",placeholder:s}))),m.default.createElement(h,(0,i.default)({},k,{label:"\u662f\u5426\u662f\u4eba\u529b\u8d44\u6e90"}),a("hr",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u662f\u5426\u662f\u5426\u662f\u4eba\u529b\u8d44\u6e90"}],initialValue:v?"1":"0"})(m.default.createElement(u.default.Group,null,m.default.createElement(u.default,{value:"1"},"\u662f"),m.default.createElement(u.default,{value:"0"},"\u5426")))))))}}]),t}(m.default.Component),g=v.default.create()(y);t.default=g},kXTr:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("miYZ");var l=n(a("tsqr")),u=n(a("lwsE")),i=n(a("W8MJ")),r=n(a("a1gu")),d=n(a("Nsbk")),o=n(a("7W2i")),f=n(a("q1tI")),s=a("MuoO"),c=n(a("3gL6")),v=n(a("u5SJ")),m=n(a("3eXy")),p=n(a("J0fQ")),h=function(e){function t(){var e,a;(0,u.default)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return a=(0,r.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(l))),a.state={visibleConfigMenus:!1,orgIndex:"",enteryConfigMenus:[]},a}return(0,o.default)(t,e),(0,i.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"save",value:function(e){this._isMounted&&this.setState(e)}},{key:"render",value:function(){var e=this.props.user,t=this.state,a=t.visibleConfigMenus,n=t.orgIndex,u=t.enteryConfigMenus,i=this,r=function(e){m.default.getEnterpriseOrgMenuByOrgId({orgIndex:e}).then(function(t){var a=t.data;if("success"===a.msg){var n={},u=a.data;_.forEach(u,function(e){n[e.mid]=e}),i.save({visibleConfigMenus:!0,orgIndex:e,enteryConfigMenus:n})}else l.default.error(a.msg)})},d={user:e,visible:a,orgIndex:n,enteryConfigMenus:u,handerAdd:function(e){u[e.mid]=e,i.save({enteryConfigMenus:u})},onCancel:function(){i.save({visibleConfigMenus:!1})}};return f.default.createElement("div",null,f.default.createElement("div",{className:c.default.content},f.default.createElement(v.default,{openConfigMenus:r})),f.default.createElement("div",null,f.default.createElement(p.default,d)))}}]),t}(f.default.Component),y=(0,s.connect)(function(e){var t=e.structure,a=e.user;return{structure:t,user:a}})(h);t.default=y},u5SJ:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var l=n(a("BMrR"));a("+L6B");var u=n(a("2/Rp"));a("jCWc");var i=n(a("kPKH"));a("5NDa");var r=n(a("5rEg")),d=n(a("MVZn"));a("miYZ");var o=n(a("tsqr")),f=n(a("lwsE")),s=n(a("W8MJ")),c=n(a("a1gu")),v=n(a("Nsbk")),m=n(a("7W2i"));a("2qtc");var p=n(a("kLXV")),h=n(a("q1tI")),y=a("MuoO"),g=n(a("CgQ8")),E=n(a("LvDl")),k=n(a("3eXy")),_=n(a("dTLy")),M=p.default.confirm,C=function(e){function t(){var e,a;(0,f.default)(this,t);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return a=(0,c.default)(this,(e=(0,v.default)(t)).call.apply(e,[this].concat(l))),a.state={valueInput:"",visibleModify:!1,modifyTitle:"",modifyLabel:"",callBack:function(){},initialValue:""},a}return(0,m.default)(t,e),(0,s.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"save",value:function(e){this._isMounted&&this.setState(e)}},{key:"handerOpenModify",value:function(e){E.default.extend(e,{visibleModify:!0}),this.save(e)}},{key:"handerCloseModify",value:function(){this.save({visibleModify:!1})}},{key:"handerAjaxBack",value:function(e){var t=this.props.dispatch,a=this;"success"===e.msg?(a.handerCloseModify(),o.default.success("\u64cd\u4f5c\u6210\u529f"),t({type:"structure/getUserOrganizations"})):o.default.error(e.msg)}},{key:"handerShowDel",value:function(e){M({title:"\u786e\u5b9a\u5220\u9664\u5417\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){e()},onCancel:function(){}})}},{key:"handerModifySection",value:function(e){var t=this,a=e.id;this.handerOpenModify({modifyTitle:"\u4fee\u6539\u90e8\u95e8",modifyLabel:"\u8bf7\u8f93\u5165\u90e8\u95e8\u540d\u79f0",initialValue:e,callBack:function(e){var n=(0,d.default)({id:a},e);k.default.editEnterpriseOrgInfoById(n).then(function(e){var a=e.data;t.handerAjaxBack(a)})}})}},{key:"deleteEnterpriseOrgInfoById",value:function(e){var t=this;this.handerShowDel(function(){k.default.deleteEnterpriseOrgInfoById({id:e}).then(function(e){var a=e.data;t.handerAjaxBack(a)})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.structure,n=t.openConfigMenus,d=a.sectionStructure,f=this.state,s=f.visibleModify,c=f.modifyTitle,v=f.modifyLabel,m=f.callBack,p=f.initialValue,y=f.valueInput,M=function(t){var a=t.target.value;e.save({valueInput:a})},C=function(){if(!y)return o.default.error("\u8bf7\u586b\u5199\u90e8\u95e8\u540d\u79f0"),!1;k.default.addEnterpriseOrgInfo({name:y,parentId:-1}).then(function(t){var a=t.data;"success"===a.msg&&e.save({valueInput:""}),e.handerAjaxBack(a)})},x="";E.default.isEmpty(d)||(x=d.map(function(t,a){return h.default.createElement("div",{key:a,className:g.default.areaBox},h.default.createElement("div",{className:g.default.titleBox},h.default.createElement("div",{className:g.default.title},h.default.createElement("i",{className:"iconfont"},"\ue639"),t.name),h.default.createElement("div",{className:g.default.operateBox},h.default.createElement("span",{onClick:function(e){n(t.index)}},"\u914d\u7f6e\u83dc\u5355"),h.default.createElement("span",{onClick:function(a){e.handerModifySection(t)}},"\u7f16\u8f91"),h.default.createElement("span",{onClick:function(a){e.deleteEnterpriseOrgInfoById(t.id)}},"\u5220\u9664"))))}));var b={visible:s,title:c,inputLabel:v,initialValue:p,onCancel:function(){e.save({visibleModify:!1})},callBack:m};return h.default.createElement("div",null,h.default.createElement("div",null,h.default.createElement(_.default,b)),h.default.createElement("div",{className:g.default.addBtnBox},h.default.createElement(l.default,null,h.default.createElement(i.default,{span:9},h.default.createElement(r.default,{value:y,onChange:M,onPressEnter:C,autoComplete:"off",placeholder:"\u586b\u5199\u90e8\u95e8\u540d\u79f0"})),h.default.createElement(i.default,{span:4,style:{paddingLeft:"24px"}},h.default.createElement(u.default,{type:"primary",onClick:C,loading:!1},"\u6dfb\u52a0")))),h.default.createElement("div",null,x))}}]),t}(h.default.Component),x=(0,y.connect)(function(e){var t=e.structure;return{structure:t}})(C);t.default=x}}]);