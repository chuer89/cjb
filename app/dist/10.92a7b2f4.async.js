(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"1bbY":function(e,t,a){"use strict";var l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var d=l(a("kLXV"));a("7Kak");var i=l(a("9yH6")),n=l(a("pVnL"));a("y8nQ");var r=l(a("Vl3Y"));a("5NDa");var u=l(a("5rEg")),s=l(a("q1tI")),o=u.default.TextArea,c=r.default.Item;class f extends s.default.Component{constructor(){super(...arguments),this.state={}}render(){var e=this.props,t=e.visible,a=e.onCancel,l=e.callBack,r=e.title,f=e.data,m=f.name,v=f.description,p=f.admin,h=e.form,y=h.getFieldDecorator,E=h.validateFields,b={labelCol:{sm:{span:6}},wrapperCol:{sm:{span:15}}},k=e=>{e.preventDefault(),E((e,t)=>{e||l(t)})};return s.default.createElement(d.default,{title:r,width:600,destroyOnClose:!0,visible:t,centered:!0,onOk:k,onCancel:a},s.default.createElement("div",null,s.default.createElement("form",null,s.default.createElement(c,(0,n.default)({},b,{label:"\u5c97\u4f4d\u540d\u79f0"}),y("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5c97\u4f4d\u540d\u79f0"}],initialValue:m})(s.default.createElement(u.default,{placeholder:"\u8bf7\u8f93\u5165\u5c97\u4f4d\u540d\u79f0",autoComplete:"off",maxLength:"32"}))),s.default.createElement(c,(0,n.default)({},b,{label:"\u95e8\u5e97\u7ba1\u7406\u6743\u9650"}),y("admin",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u662f\u5426\u62e5\u6709\u95e8\u5e97\u7ba1\u7406\u6743\u9650"}],initialValue:p?"0":"1"})(s.default.createElement(i.default.Group,null,s.default.createElement(i.default,{value:"0"},"\u662f"),s.default.createElement(i.default,{value:"1"},"\u5426")))),s.default.createElement(c,(0,n.default)({},b,{label:"\u5c97\u4f4d\u63cf\u8ff0"}),y("description",{initialValue:v})(s.default.createElement(o,{rows:3,placeholder:"\u8bf7\u8f93\u5165\u5c97\u4f4d\u63cf\u8ff0",maxLength:"300"}))))))}}var m=r.default.create()(f);t.default=m},N1bO:function(e,t,a){"use strict";var l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d=l(a("q1tI")),i=l(a("PHqX"));class n extends d.default.Component{render(){var e={background:"white",padding:"24px"};return d.default.createElement("div",null,d.default.createElement("div",{style:e},d.default.createElement(i.default,null)))}}var r=n;t.default=r},PHqX:function(e,t,a){"use strict";var l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var d=l(a("2/Rp"));a("miYZ");var i=l(a("tsqr"));a("2qtc");var n=l(a("kLXV")),r=l(a("q1tI")),u=a("MuoO"),s=l(a("CgQ8")),o=l(a("LvDl")),c=l(a("3eXy")),f=l(a("1bbY")),m=n.default.confirm;class v extends r.default.Component{constructor(){super(...arguments),this.state={visibleModify:!1,modifyTitle:"",callBack:()=>{},initialValue:"",data:{}}}UNSAFE_componentWillMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}save(e){this._isMounted&&this.setState(e)}handerOpenModify(e){o.default.extend(e,{visibleModify:!0}),this.save(e)}handerCloseModify(){this.save({visibleModify:!1})}handerAjaxBack(e){var t=this.props.dispatch,a=this;"success"===e.msg?(a.handerCloseModify(),i.default.success("\u64cd\u4f5c\u6210\u529f"),t({type:"structure/getPosition"})):i.default.error(e.msg)}handerShowDel(e){m({title:"\u786e\u5b9a\u5220\u9664\u5417\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk(){e()},onCancel(){}})}handerModifySection(e){var t=this,a=e.id;this.handerOpenModify({modifyTitle:"\u4fee\u6539\u5c97\u4f4d",data:e,callBack(e){var l={};o.default.extend(l,e,{id:a}),c.default.updatePositionById(l).then(e=>{var a=e.data;t.handerAjaxBack(a)})}})}handerAdd(){var e=this;this.handerOpenModify({modifyTitle:"\u6dfb\u52a0\u5c97\u4f4d",data:{},callBack(t){c.default.addPosition(t).then(t=>{var a=t.data;e.handerAjaxBack(a)})}})}deletePositionById(e){var t=this;this.handerShowDel(()=>{c.default.deletePositionById({id:e}).then(e=>{var a=e.data;t.handerAjaxBack(a)})})}render(){var e=this,t=this.props.structure.positionStructure,a=this.state,l=a.visibleModify,i=a.modifyTitle,n=a.data,u=a.callBack,c=a.initialValue,m="";o.default.isEmpty(t)||(m=t.map((t,a)=>{return r.default.createElement("div",{key:a,className:s.default.areaBox},r.default.createElement("div",{className:s.default.titleBox},r.default.createElement("div",{className:s.default.title},r.default.createElement("i",{className:"iconfont"},"\ue601"),t.name),r.default.createElement("div",{className:s.default.operateBox},r.default.createElement("span",{onClick:a=>{e.handerModifySection(t)}},"\u7f16\u8f91"),r.default.createElement("span",{onClick:a=>{e.deletePositionById(t.id)}},"\u5220\u9664"))))}));var v={visible:l,title:i,initialValue:c,onCancel(){e.save({visibleModify:!1})},callBack:u,data:n};return r.default.createElement("div",null,r.default.createElement("div",null,r.default.createElement(f.default,v)),r.default.createElement("div",{className:s.default.addBtnBox,style:{textAlign:"right"}},r.default.createElement(d.default,{type:"primary",size:"large",onClick:()=>{e.handerAdd()},style:{width:"140px"}},"\u6dfb\u52a0")),r.default.createElement("div",null,m))}}var p=(0,u.connect)(e=>{var t=e.structure;return{structure:t}})(v);t.default=p}}]);