(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{Jdmp:function(e,t,a){"use strict";var l=a("284h"),r=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("g9YV");var d=r(a("wCAj"));a("+L6B");var n=r(a("2/Rp"));a("/zsF");var o=r(a("PArb")),i=r(a("MVZn")),u=l(a("q1tI")),s=(r(a("17x9")),a("MuoO")),m=a("Kvkj"),c=a("7Qib"),f=r(a("mOP9")),p=r(a("dAeD")),v=r(a("k98Q")),b=c.TableUtils.getColumns,E={marginBottom:"24px"};class y extends u.Component{constructor(){super(...arguments),this.state={visibleClose:!1,visibleComplete:!1,orderItem:{}}}save(e){this.setState(e)}onQuery(e){this.props.dispatch({type:"ordersDeal/getDealList",payload:e})}render(){var e=this.props,t=e.ordersDeal,a=t.queryCondition,l=t.list,r=t.fields,s=t.pagination,c=e.dispatch,y=e.loading,h=e.confirmLoading,g=this.state,C=g.visibleClose,D=g.orderItem,w=g.visibleComplete,I=this,L={queryCondition:a,onSearch:e=>{this.onQuery((0,i.default)({},e,{pn:1}))},onReset:()=>{this.onQuery({pn:1})}},x=e=>{I.save({visibleClose:!0,orderItem:e})},k=e=>{I.save({visibleComplete:!0,orderItem:e})},T=[{width:150,fixed:"right",key:"operator",name:"\u64cd\u4f5c",render:(e,t)=>{var a=t.orderStatus,l=t.id,r=`/orders/deal/detail/${l}`,d=u.default.createElement(f.default,{to:r},"\u8be6\u60c5"),n=u.default.createElement("div",null,d);return 10===a&&(n=u.default.createElement("div",null,u.default.createElement("a",{href:"javascript:;",onClick:()=>{k(t)}},"\u5b8c\u6210"),u.default.createElement(o.default,{type:"vertical"}),u.default.createElement("a",{href:"javascript:;",onClick:()=>{x(t)}},"\u5173\u95ed"),u.default.createElement(o.default,{type:"vertical"}),d)),u.default.createElement("div",null,n)}}],M=b(r).extend(T).values(),q={rowKey:"id",scroll:{x:1500},columns:M,loading:y.effects["ordersDeal/getDealList"],dataSource:l,pagination:(0,i.default)({},s,{showTotal:e=>`\u603b\u5171 ${e} \u6761`,onChange:e=>this.onQuery({pn:e})})},P={visible:C,confirmLoading:h,handerclose(){I.save({visibleClose:!1})},orderItem:D,handerSubmit(e){var t=D.id,a=(0,i.default)({},e,{orderId:t});c({type:"ordersDeal/setCloseDeal",payload:a})}},R={visible:w,confirmLoading:h,handerclose(){I.save({visibleComplete:!1})},orderItem:D,handerSubmit(e){var t=D.id,a=(0,i.default)({},e,{orderId:t});c({type:"ordersDeal/setCompleteDeal",payload:a})}};return u.default.createElement("div",null,u.default.createElement(f.default,{to:"/orders/deal/create"},u.default.createElement(n.default,{className:"btn-diy-size",style:E,type:"primary"},"\u521b\u5efa")),u.default.createElement(m.Filter,L),u.default.createElement(d.default,q),u.default.createElement("div",null,u.default.createElement(p.default,{modalProps:P}),u.default.createElement(v.default,{modalProps:R})))}}var h=(0,s.connect)(e=>{var t=e.ordersDeal,a=e.loading;return{ordersDeal:t,loading:a}})(y);t.default=h},dAeD:function(e,t,a){"use strict";var l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("q1tI")),d=l(a("pVnL"));a("y8nQ");var n=l(a("Vl3Y"));a("5NDa");var o=l(a("5rEg")),i=a("Kvkj"),u=o.default.TextArea,s=n.default.Item,m={labelCol:{sm:{span:6}},wrapperCol:{sm:{span:15}}},c=e=>{var t=e.form,a=e.modalProps,l=a.visible,o=a.handerclose,c=a.confirmLoading,f=a.handerSubmit,p=a.orderItem,v=t.getFieldDecorator,b=p.buyerName,E=p.buyerMobile,y=p.serviceTypeDesc,h={title:"\u5173\u95ed\u4ea4\u6613\u8ba2\u5355",visible:l,onCancel:o,form:t,confirmLoading:c,width:600,onOk(e){f(e)}};return r.default.createElement(i.EnhanceModal,h,r.default.createElement(n.default,null,r.default.createElement(s,(0,d.default)({},m,{label:"\u771f\u5b9e\u59d3\u540d"}),v("buyerName")(r.default.createElement("span",null,b))),r.default.createElement(s,(0,d.default)({},m,{label:"\u624b\u673a\u53f7"}),v("buyerMobile")(r.default.createElement("span",null,E))),r.default.createElement(s,(0,d.default)({},m,{label:"\u5546\u54c1\u7c7b\u578b"}),v("serviceTypeDesc")(r.default.createElement("span",null,y))),r.default.createElement(s,(0,d.default)({},m,{label:"\u5907\u6ce8"}),v("comment",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5907\u6ce8"}]})(r.default.createElement(u,{maxLength:"500",autosize:{minRows:3,maxRows:3}})))))},f=n.default.create()(c);t.default=f},k98Q:function(e,t,a){"use strict";var l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("q1tI"));a("giR+");var d=l(a("fyUT")),n=l(a("pVnL"));a("y8nQ");var o=l(a("Vl3Y"));a("5NDa");var i=l(a("5rEg")),u=a("Kvkj"),s=i.default.TextArea,m=o.default.Item,c={labelCol:{sm:{span:6}},wrapperCol:{sm:{span:15}}},f=e=>{var t=e.form,a=e.modalProps,l=a.visible,i=a.handerclose,f=a.confirmLoading,p=a.handerSubmit,v=a.orderItem,b=t.getFieldDecorator,E=v.buyerName,y=v.buyerMobile,h=v.serviceTypeDesc,g={title:"\u8bf7\u786e\u8ba4\u8be5\u610f\u5411\u8ba2\u5355\u76f8\u5173\u4fe1\u606f",visible:l,onCancel:i,form:t,confirmLoading:f,width:600,onOk(e){p(e)}},C={placeholder:"\u8bf7\u8f93\u5165\u8ba2\u5355\u5b9e\u4ed8\u91d1\u989d\uff08\u5143\uff09",maxLength:8,style:{width:300},max:5e7,min:0};return r.default.createElement(u.EnhanceModal,g,r.default.createElement(o.default,null,r.default.createElement(m,(0,n.default)({},c,{label:"\u771f\u5b9e\u59d3\u540d"}),b("buyerName")(r.default.createElement("span",null,E))),r.default.createElement(m,(0,n.default)({},c,{label:"\u624b\u673a\u53f7"}),b("buyerMobile")(r.default.createElement("span",null,y))),r.default.createElement(m,(0,n.default)({},c,{label:"\u5546\u54c1\u7c7b\u578b"}),b("serviceTypeDesc")(r.default.createElement("span",null,h))),r.default.createElement(m,(0,n.default)({},c,{label:"\u8ba2\u5355\u5b9e\u4ed8\u91d1\u989d"}),b("paidPrice",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8ba2\u5355\u5b9e\u4ed8\u91d1\u989d"}]})(r.default.createElement(d.default,C))),r.default.createElement(m,(0,n.default)({},c,{label:"\u5907\u6ce8"}),b("comment")(r.default.createElement(s,{maxLength:"500",autosize:{minRows:3,maxRows:5}})))))},p=o.default.create()(f);t.default=p}}]);