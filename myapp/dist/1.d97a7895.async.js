(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"63HC":function(e,t,a){"use strict";var r=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("miYZ");var s=r(a("tsqr")),n=r(a("o0o1")),u=r(a("MVZn")),l=r(a("K2gk")),i=a("7DNP"),f=a("7Qib"),d=r(a("LvDl")),o=a("wxbF"),c=(0,u.default)({},o.filterConfig,{queryParameters:{auditStatus:"",farmId:"",farmName:"",farmers:"",isSales:"",modifyStatus:"",sellStatus:"",sellerAgencyName:"",time:"",translateStatus:"",typeDesc:""},outOfStockShow:!1,filterShow:!0,pagination:{showTotal:e=>`\u5171\u8ba1 ${e} \u6761`,total:0,ps:10,pageSize:10,pn:1}}),p=f.Model.extend({namespace:"farm",state:(0,u.default)({},d.default.cloneDeep(c)),subscriptions:{setup(e){e.dispatch;var t=e.listen;t("/farmInfo",{type:"farmList"})}},effects:{farmList:n.default.mark(function e(t,a){var r,s,u,i,f,d,o,c,p,m,y,S,h,w,g,v,D,x,k,b,q,N,P,I;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a.call,a.put,r=a.select,a.callWithMessage,s=a.update,u=a.callWithSpinning,e.next=3,r(e=>e.farm);case 3:return i=e.sent,f=i.pagination,d=f.ps,o=f.pn,c=i.queryParameters,p=c.auditStatus,m=c.endDate,y=c.farmId,S=c.farmName,h=c.farmers,w=c.isSales,g=c.modifyStatus,v=c.sellStatus,D=c.sellerAgencyName,x=c.startDate,k=c.translateStatus,b=c.typeDesc,e.next=22,u(l.default.getfarmList,{auditStatus:p,endDate:m,farmId:y,farmName:S,farmers:h,isSales:w,modifyStatus:g,sellStatus:v,sellerAgencyName:D,startDate:x,translateStatus:k,typeDesc:b,ps:d,pn:o});case 22:if(q=e.sent,!q){e.next=28;break}return N=q.datas,P=q.tc,I=N.map((e,t)=>{return e.key=t,e}),e.next=28,s({list:I,pagination:{ps:d,pn:o,total:P}});case 28:case"end":return e.stop()}},e,this)}),putaway:n.default.mark(function e(t,a){var r,u,i,f,d,o,c,p;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,u=t.callback,a.call,i=a.put,f=a.select,d=a.callWithConfirmLoading,o=r.record.id,e.next=5,d(l.default.putaway,{farmId:o});case 5:return s.default.success("\u4e0a\u67b6\u6210\u529f"),u&&u(),e.next=9,f(e=>e.farm);case 9:return c=e.sent,p=c.list,p.forEach(e=>{e.id===o&&(e.saleStatusDesc="\u51fa\u552e\u4e2d",e.saleStatus=10,e.key=Date.parse(new Date))}),e.next=14,i({type:"updateState",payload:{list:p}});case 14:case"end":return e.stop()}},e,this)}),farmOff:n.default.mark(function e(t,a){var r,u,i,f,d,o,c,p;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,u=t.callback,a.call,i=a.put,f=a.select,d=a.callWithConfirmLoading,e.next=4,d(l.default.off,r["record"]);case 4:return o=r["record"].farmId,s.default.success("\u4e0b\u67b6\u6210\u529f"),u&&u(),e.next=9,f(e=>e.farm);case 9:return c=e.sent,p=c.list,p.forEach(e=>{e.id===o&&(e.saleStatusDesc="\u5df2\u4e0b\u67b6",e.saleStatus=20,e.key=Date.parse(new Date))}),e.next=14,i({type:"updateState",payload:{list:p}});case 14:case"end":return e.stop()}},e,this)}),redirectDetail:n.default.mark(function e(t,a){var r,s;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,s=a.put,e.next=4,s(i.routerRedux.push("/detail/"+r.id,{id:r.id}));case 4:case"end":return e.stop()}},e,this)})},reducers:{delete(e,t){var a=t.payload;return e.filter(e=>e.id!==a)},farmFilter(e,t){var a=t.payload;return(0,u.default)({},e,{queryParameters:(0,u.default)({},a.queryParameters)})},updatePagination(e,t){var a=t.payload;return(0,u.default)({},e,{pagination:(0,u.default)({},e.pagination,a)})},clearFilter(e){return(0,u.default)({},e,{queryParameters:{auditStatus:"",farmId:"",farmName:"",farmers:"",isSales:"",modifyStatus:"",sellStatus:"",sellerAgencyName:"",time:"",translateStatus:"",typeDesc:""}})},taggleFilterShow(e,t){var a=t.payload;return(0,u.default)({},e,{filterShow:!e.filterShow,animationConfig:(0,u.default)({},e.animationConfig,a)})},resetState(e){return(0,u.default)({},e,d.default.cloneDeep(c))}}});t.default=p},K2gk:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a("7Qib"),s=a("8SHQ"),n=s.api.farmInfo,u=n.farmList,l=n.off,i=n.putaway,f={getfarmList(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request)({url:u,method:"form",data:e})},off(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request)({url:l,method:"form",data:e})},putaway(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request)({url:i,method:"form",data:e})}},d=f;t.default=d}}]);