(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{VjkT:function(e,t,a){"use strict";var l=a("284h"),r=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("miYZ");var n=r(a("tsqr")),o=l(a("q1tI")),i=a("MuoO"),s=a("Kvkj"),d=a("gNCq"),p=r(a("usdK")),m=r(a("LvDl")),u=a("7Qib");class g extends o.Component{constructor(){super(...arguments),this.state={mobileRegion:"86",mobile:""}}save(e){this.setState(e)}render(){var e=this.props,t=e.dispatch,a=e.createOrdersMeal,l=a.farmName,r=a.farmId,i=a.realName,g=a.buyerId,c=this.state,f=c.mobileRegion,C=c.mobile,y=this,h=e=>{if(!r)return n.default.error("\u519c\u573a\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a\uff0c\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u519c\u573a\u7f16\u53f7"),!1;if(!g)return n.default.error("\u7528\u6237\u59d3\u540d\u4e0d\u80fd\u4e3a\u7a7a\uff0c\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"),!1;var a={};m.default.extend(a,e,{farmId:r,buyerId:g}),t({type:"createOrdersMeal/addOrderDeal",payload:a})},b=e=>{y.save(e);var a={mobile:C,mobileRegion:f};m.default.extend(a,e),u.reg.phone.test(a.mobile)?t({type:"createOrdersMeal/getUserInfo",payload:a}):t({type:"createOrdersMeal/updateState",payload:{buyerId:"",realName:""}})},v=[{inputType:"select",title:"serviceType",label:"\u5546\u54c1\u7c7b\u578b",itemConfig:{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5546\u54c1\u7c7b\u578b"}],initialValue:"2"},ColConfig:{span:24},componentsConfig:{style:{width:300},placeholder:"\u8bf7\u9009\u62e9\u5546\u54c1\u7c7b\u578b"},selectCondition:d.SERVICE_TYPE},{inputType:"input",title:"farmId",label:"\u519c\u573a\u7f16\u7801",itemConfig:{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u519c\u573a\u7f16\u7801",min:8,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u519c\u573a\u7f16\u7801"}]},componentsConfig:{placeholder:"\u8bf7\u8f93\u5165\u519c\u573a\u7f16\u7801",maxLength:8,style:{width:300},onBlur(e){var a=e.target.value;a.length>=8?t({type:"createOrdersMeal/getFarmDetail",payload:{farmNo:a}}):t({type:"createOrdersMeal/updateState",payload:{farmName:"",farmId:""}})}},ColConfig:{span:24}},{inputType:"countryPhone",title:"mobile",label:"\u624b\u673a",itemConfig:{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",pattern:u.reg.phone,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"}]},ColConfig:{span:24},componentsConfig:{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",style:{width:300},maxLength:20,onBlur(e){var t=e.target.value;b({mobile:t})}},regionConfig:{initialValue:f,key:"mobileRegion",onChange(e){b({mobileRegion:e})}}},{inputType:"custom",title:"farmName",label:"\u519c\u573a\u540d\u79f0",render:o.default.createElement("span",null,l||"\u65e0"),ColConfig:{span:24}},{inputType:"custom",title:"realName",label:"\u7528\u6237\u59d3\u540d",render:o.default.createElement("span",null,i||"\u65e0"),ColConfig:{span:24}},{inputType:"inputNumber",title:"price",label:"\u519c\u573a\u91d1\u989d",itemConfig:{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u519c\u573a\u91d1\u989d"}]},componentsConfig:{placeholder:"\u8bf7\u8f93\u5165\u519c\u573a\u91d1\u989d\uff08\u5143\uff09",maxLength:8,style:{width:300},max:5e7,min:0},ColConfig:{span:24}},{inputType:"textArea",title:"comment",label:"\u5907\u6ce8",itemConfig:{},componentsConfig:{placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8",maxLength:500,rows:5},ColConfig:{span:24}}];return o.default.createElement("div",null,o.default.createElement("h3",null,"\u65b0\u589e\u4ea4\u6613\u8ba2\u5355"),o.default.createElement(s.FormItem,{queryCondition:v,onSave:h,onCancel(){p.default.push("/orders/deal")}}))}}var c=(0,i.connect)(e=>{var t=e.createOrdersMeal,a=e.loading;return{createOrdersMeal:t,loading:a}})(g);t.default=c}}]);