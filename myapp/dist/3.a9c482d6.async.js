(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{hAjL:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a("7Qib"),n=a("8SHQ"),i=n.api.farmInfo,s=i.farmDirectories,u=i.detail,l={list(t){return(0,r.request)({url:s,data:t})},detail(t){return(0,r.request)({url:u,data:t})}};e.default=l},oPMl:function(t,e,a){"use strict";var r=a("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(a("o0o1")),i=r(a("MVZn")),s=a("7Qib"),u=r(a("hAjL")),l=s.Model.extend({namespace:"farmDirectories",state:{list:[],listEffect:"farmDirectories/getList",mapFarmType:[],detailData:{},pagination:{showTotal:t=>`\u5171\u8ba1 ${t} \u6761`,total:0,ps:12,pageSize:12,pn:1}},subscriptions:{setup:t=>{var e=t.history,a=t.dispatch;e.listen(t=>{var e=t.pathname;"/farmInfo/farmDirectories"===e&&a({type:"getList",payload:{ps:12,pn:1}})})}},effects:{getList:n.default.mark(function t(e,a){var r,s,l,p,d,o,c,f,h,m,v;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.payload,a.call,s=a.put,l=a.select,p=a.callWithSpinning,t.next=4,l(t=>t.farmDirectories);case 4:return d=t.sent,o=d.pagination,c=o.pn,f=o.ps,t.next=9,p(u.default.list,(0,i.default)({},(0,i.default)({pn:c,ps:f},r)));case 9:if(h=t.sent,h){t.next=12;break}return t.abrupt("return");case 12:return m=h.datas,v=h.tc,m.map((t,e)=>t.key=e),t.next=16,s({type:"updateState",payload:{list:m,pagination:(0,i.default)({},o,{total:v})}});case 16:case"end":return t.stop()}},t,this)}),getDetail:n.default.mark(function t(e,a){var r,i,s,l,p;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.payload,a.call,i=a.put,s=a.callWithSpinning,l=r.id,t.next=5,s(u.default.detail,{id:l});case 5:if(p=t.sent,p){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,i({type:"updateState",payload:{detailData:p}});case 10:case"end":return t.stop()}},t,this)})},reducers:{updatePagination(t,e){var a=e.payload;return(0,i.default)({},t,{pagination:(0,i.default)({},t.pagination,a)})}}});e.default=l}}]);