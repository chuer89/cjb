(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[30],{"0w04":function(e,t,a){"use strict";var n=a("284h"),o=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(a("pVnL"));a("g9YV");var s=o(a("wCAj"));a("/zsF");var l=o(a("PArb")),c=o(a("MVZn"));a("2qtc");var u=o(a("kLXV")),d=n(a("q1tI")),i=(o(a("17x9")),a("MuoO")),p=a("Kvkj"),f=a("7Qib"),h=o(a("mOP9")),y=f.TableUtils.getColumns,v={visible:!1,onCancel:()=>{},dispatchContent:()=>{},placeholder:"\u8bf7\u8f93\u5165\u51bb\u7ed3\u539f\u56e0\uff0c\u6700\u591a500\u5b57",effectsType:"userAccount/frozen"};class m extends d.Component{constructor(){super(...arguments),this.state={editModalProps:v,queryPayload:{},pagination:{}}}onQuery(e){this.props.dispatch({type:"userAccount/getAccountList",payload:e})}render(){var e=this.props,t=e.userAccount,a=t.queryCondition,n=t.list,o=t.fields,i=t.pagination,f=e.dispatch,m=e.loading,g=e=>{var t=e.userId,a=e.realName;u.default.confirm({iconType:"no",content:`\u786e\u5b9a\u8981\u89e3\u51bb\u201c${a||""}\u201d\u8d26\u53f7?`,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:()=>{f({type:"userAccount/unFrozenUser",payload:{userId:t}})}})},A={queryCondition:a,onSearch:e=>{this.onQuery((0,c.default)({},e,{pn:1}))},onReset:()=>{this.onQuery({pn:1})}},C=[{title:"\u72b6\u6001",key:"statusDesc",render:(e,t)=>{return"\u6b63\u5e38"===t.statusDesc?"\u6b63\u5e38":d.default.createElement(p.Popover,{reason:t.reason,actioner:t.creatorId,text:"\u5df2\u51bb\u7ed3"})}},{width:120,fixed:"right",title:"\u64cd\u4f5c",dataIndex:"action",key:"table-action",render:(e,t)=>d.default.createElement("div",null,"\u6b63\u5e38"===t.statusDesc?d.default.createElement("a",{href:"javascript:;",onClick:()=>{this.setState({editModalProps:(0,c.default)({},v,{visible:!0,title:t.realName?`\u786e\u5b9a\u51bb\u7ed3"${t.accountTypeDesc}-${t.realName}"\u8d26\u53f7\u5417?`:`\u786e\u5b9a\u51bb\u7ed3\u8be5${t.accountTypeDesc}\u8d26\u53f7\u5417?`,dispatchContent:e=>{f({type:"userAccount/frozenUser",payload:{userId:t.userId,reason:e},callback:()=>{this.setState({editModalProps:v})}})},onCancel:()=>{this.setState({editModalProps:v})}})})}},"\u51bb\u7ed3"):d.default.createElement("a",{href:"javascript:;",onClick:()=>{g(t)}},"\u89e3\u51bb"),d.default.createElement(l.default,{type:"vertical"}),d.default.createElement(h.default,{to:"/users/account/detail/"+t.userId},"\u8be6\u60c5"))}],k={rowKey:"userId",scroll:{x:1e3},columns:y(o).extend(C).values(),loading:m.effects["userAccount/getAccountList"],dataSource:n,pagination:(0,c.default)({},i,{showTotal:e=>`\u603b\u5171 ${e} \u6761`,onChange:e=>this.onQuery({pn:e})})};return d.default.createElement("div",null,d.default.createElement(p.Filter,A),d.default.createElement(s.default,k),d.default.createElement(p.EditModal,(0,r.default)({},this.state.editModalProps,{loading:m})))}}var g=(0,i.connect)(e=>{var t=e.userAccount,a=e.loading;return{userAccount:t,loading:a}})(m);t.default=g}}]);